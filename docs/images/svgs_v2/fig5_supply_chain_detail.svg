<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 350">
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <path d="M0,0 L0,6 L9,3 z" fill="#64748b" />
        </marker>
        <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
            <feDropShadow dx="1" dy="1" stdDeviation="2" flood-color="#000000" flood-opacity="0.1" />
        </filter>
    </defs>

    <rect width="900" height="350" fill="#f8fafc" />

    <!-- Step 1: Input -->
    <g transform="translate(30, 100)">
        <rect width="120" height="80" rx="8" fill="#ffffff" stroke="#94a3b8" />
        <text x="60" y="30" font-family="sans-serif" font-size="12" font-weight="bold" fill="#334155"
            text-anchor="middle">1. 输入</text>
        <text x="60" y="55" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">多视角视频</text>
        <text x="60" y="70" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">历史档案</text>
    </g>

    <line x1="150" y1="140" x2="180" y2="140" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)" />

    <!-- Step 2: Standardize -->
    <g transform="translate(180, 100)">
        <rect width="120" height="80" rx="8" fill="#f1f5f9" stroke="#94a3b8" stroke-dasharray="4" />
        <text x="60" y="30" font-family="sans-serif" font-size="12" font-weight="bold" fill="#334155"
            text-anchor="middle">2. 标准化</text>
        <text x="60" y="55" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">去噪/去抖</text>
        <text x="60" y="70" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">指纹提取</text>
    </g>

    <line x1="300" y1="140" x2="330" y2="140" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)" />

    <!-- Step 3: Generate -->
    <g transform="translate(330, 80)">
        <rect width="140" height="120" rx="8" fill="#f0fdf4" stroke="#16a34a" stroke-width="2" filter="url(#shadow)" />
        <text x="70" y="30" font-family="sans-serif" font-size="12" font-weight="bold" fill="#15803d"
            text-anchor="middle">3. 统一生成</text>
        <!-- Plugins -->
        <rect x="20" y="45" width="100" height="25" rx="4" fill="#ffffff" stroke="#16a34a" />
        <text x="70" y="62" font-family="sans-serif" font-size="10" fill="#15803d" text-anchor="middle">DUSt3R 约束</text>
        <rect x="20" y="80" width="100" height="25" rx="4" fill="#ffffff" stroke="#16a34a" />
        <text x="70" y="97" font-family="sans-serif" font-size="10" fill="#15803d" text-anchor="middle">TRELLIS
            生成</text>
    </g>

    <line x1="470" y1="140" x2="500" y2="140" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)" />

    <!-- Step 4: Grading Gate -->
    <g transform="translate(500, 50)">
        <polygon points="0,0 180,0 200,90 180,180 0,180 20,90" fill="#fff7ed" stroke="#f97316" stroke-width="2" />
        <text x="100" y="30" font-family="sans-serif" font-size="14" font-weight="bold" fill="#c2410c"
            text-anchor="middle">4. 质量分级路由</text>

        <!-- G0 -->
        <rect x="40" y="50" width="50" height="30" rx="4" fill="#fef2f2" stroke="#fca5a5" />
        <text x="65" y="70" font-family="sans-serif" font-size="12" font-weight="bold" fill="#b91c1c"
            text-anchor="middle">G0</text>
        <line x1="90" y1="65" x2="210" y2="65" stroke="#fca5a5" stroke-dasharray="4" />

        <!-- G1 -->
        <rect x="40" y="90" width="50" height="30" rx="4" fill="#eff6ff" stroke="#93c5fd" />
        <text x="65" y="110" font-family="sans-serif" font-size="12" font-weight="bold" fill="#1d4ed8"
            text-anchor="middle">G1</text>
        <line x1="90" y1="105" x2="210" y2="105" stroke="#93c5fd" stroke-dasharray="4" />

        <!-- G2 -->
        <rect x="40" y="130" width="50" height="30" rx="4" fill="#f0fdf4" stroke="#86efac" />
        <text x="65" y="150" font-family="sans-serif" font-size="12" font-weight="bold" fill="#15803d"
            text-anchor="middle">G2</text>
        <line x1="90" y1="145" x2="210" y2="145" stroke="#86efac" stroke-dasharray="4" />
    </g>

    <!-- Step 5: End uses -->
    <g transform="translate(720, 50)">
        <text x="50" y="70" font-family="sans-serif" font-size="11" fill="#475569" text-anchor="start">→ 预演</text>
        <text x="50" y="110" font-family="sans-serif" font-size="11" fill="#475569" text-anchor="start">→ 背景制作</text>
        <text x="50" y="150" font-family="sans-serif" font-size="11" fill="#475569" text-anchor="start">→ 人工精修
            (回流)</text>
    </g>

</svg>